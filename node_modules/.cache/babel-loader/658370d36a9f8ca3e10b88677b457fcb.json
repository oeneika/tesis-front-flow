{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexa\\\\Documents\\\\Tesis-front\\\\StarterKit\\\\src\\\\pages\\\\Camera\\\\index.js\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport * as faceapi from \"face-api.js\";\nimport Webcam from \"react-webcam\";\n\nconst Camera = () => {\n  const webcamRef = React.useRef(null);\n  const mediaRecorderRef = React.useRef(null);\n  const [capturing, setCapturing] = React.useState(false);\n  const [recordedChunks, setRecordedChunks] = React.useState([]);\n  const handleStartCaptureClick = React.useCallback(() => {\n    setCapturing(true);\n    mediaRecorderRef.current = new MediaRecorder(webcamRef.current.stream, {\n      mimeType: \"video/webm\"\n    });\n    mediaRecorderRef.current.addEventListener(\"dataavailable\", handleDataAvailable);\n    mediaRecorderRef.current.start();\n  }, [webcamRef, setCapturing, mediaRecorderRef]);\n  const handleDataAvailable = React.useCallback(({\n    data\n  }) => {\n    if (data.size > 0) {\n      setRecordedChunks(prev => prev.concat(data));\n    }\n  }, [setRecordedChunks]);\n  const handleStopCaptureClick = React.useCallback(() => {\n    mediaRecorderRef.current.stop();\n    setCapturing(false);\n  }, [mediaRecorderRef, webcamRef, setCapturing]);\n  const handleDownload = React.useCallback(() => {\n    if (recordedChunks.length) {\n      const blob = new Blob(recordedChunks, {\n        type: \"video/webm\"\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      document.body.appendChild(a);\n      a.style = \"display: none\";\n      a.href = url;\n      a.download = \"react-webcam-stream-capture.webm\";\n      a.click();\n      window.URL.revokeObjectURL(url);\n      setRecordedChunks([]);\n    }\n  }, [recordedChunks]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 6\n    }\n  }, \"Modo Camara\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"botones-camara text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedor-camara-live\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Webcam, {\n    ref: webcamRef,\n    width: 1280,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-gmail mx-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"Grabar video\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary mx-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"Tomar foto\")))))));\n};\n\nexport default Camera;","map":{"version":3,"sources":["C:/Users/alexa/Documents/Tesis-front/StarterKit/src/pages/Camera/index.js"],"names":["React","useState","useEffect","useRef","faceapi","Webcam","Camera","webcamRef","mediaRecorderRef","capturing","setCapturing","recordedChunks","setRecordedChunks","handleStartCaptureClick","useCallback","current","MediaRecorder","stream","mimeType","addEventListener","handleDataAvailable","start","data","size","prev","concat","handleStopCaptureClick","stop","handleDownload","length","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","body","appendChild","style","href","download","click","window","revokeObjectURL"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from \"react\";\r\n\r\nimport * as faceapi from \"face-api.js\";\r\nimport Webcam from \"react-webcam\";\r\n\r\nconst Camera = () => {\r\n\tconst webcamRef = React.useRef(null);\r\n\tconst mediaRecorderRef = React.useRef(null);\r\n\tconst [capturing, setCapturing] = React.useState(false);\r\n\tconst [recordedChunks, setRecordedChunks] = React.useState([]);\r\n\r\n\tconst handleStartCaptureClick = React.useCallback(() => {\r\n\t\tsetCapturing(true);\r\n\t\tmediaRecorderRef.current = new MediaRecorder(webcamRef.current.stream, {\r\n\t\t\tmimeType: \"video/webm\",\r\n\t\t});\r\n\t\tmediaRecorderRef.current.addEventListener(\r\n\t\t\t\"dataavailable\",\r\n\t\t\thandleDataAvailable\r\n\t\t);\r\n\t\tmediaRecorderRef.current.start();\r\n\t}, [webcamRef, setCapturing, mediaRecorderRef]);\r\n\r\n\tconst handleDataAvailable = React.useCallback(\r\n\t\t({data}) => {\r\n\t\t\tif (data.size > 0) {\r\n\t\t\t\tsetRecordedChunks((prev) => prev.concat(data));\r\n\t\t\t}\r\n\t\t},\r\n\t\t[setRecordedChunks]\r\n\t);\r\n\r\n\tconst handleStopCaptureClick = React.useCallback(() => {\r\n\t\tmediaRecorderRef.current.stop();\r\n\t\tsetCapturing(false);\r\n\t}, [mediaRecorderRef, webcamRef, setCapturing]);\r\n\r\n\tconst handleDownload = React.useCallback(() => {\r\n\t\tif (recordedChunks.length) {\r\n\t\t\tconst blob = new Blob(recordedChunks, {\r\n\t\t\t\ttype: \"video/webm\",\r\n\t\t\t});\r\n\t\t\tconst url = URL.createObjectURL(blob);\r\n\t\t\tconst a = document.createElement(\"a\");\r\n\t\t\tdocument.body.appendChild(a);\r\n\t\t\ta.style = \"display: none\";\r\n\t\t\ta.href = url;\r\n\t\t\ta.download = \"react-webcam-stream-capture.webm\";\r\n\t\t\ta.click();\r\n\t\t\twindow.URL.revokeObjectURL(url);\r\n\t\t\tsetRecordedChunks([]);\r\n\t\t}\r\n\t}, [recordedChunks]);\r\n\r\n\treturn (\r\n\t\t<div className=\"content-wrapper\">\r\n\t\t\t<section className=\"content\">\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t<h3>Modo Camara</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"botones-camara text-center\">\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-camara-live\">\r\n\t\t\t\t\t\t\t\t\t<Webcam ref={webcamRef} width={1280} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-gmail mx-2\">Grabar video</button>\r\n\t\t\t\t\t\t\t\t{/* <button className=\"btn btn-gmail mx-2\">Pausar video</button> */}\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-primary mx-2\">Tomar foto</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Camera;\r\n"]},"metadata":{},"sourceType":"module"}