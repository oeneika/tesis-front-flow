{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexa\\\\Documents\\\\Tesis-front\\\\StarterKit\\\\src\\\\pages\\\\Sockets\\\\text.js\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport socket from \"./Socket\";\nimport \"../App.css\";\n\nconst text = ({\n  nombre\n}) => {\n  const [mensaje, setMensaje] = useState(\"\");\n  const [mensajes, setMensajes] = useState([]);\n  useEffect(() => {\n    socket.emit(\"conectado\", nombre);\n  }, [nombre]);\n  useEffect(() => {\n    socket.on(\"mensajes\", mensaje => {\n      setMensajes([...mensajes, mensaje]);\n    });\n    return () => {\n      socket.off();\n    };\n  }, [mensajes]);\n  const divRef = useRef(null);\n  useEffect(() => {\n    divRef.current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  });\n\n  const submit = e => {\n    e.preventDefault();\n    socket.emit(\"mensaje\", nombre, mensaje);\n    setMensaje(\"\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 4\n    }\n  }, mensajes.map((e, i) => /*#__PURE__*/React.createElement(\"div\", {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, e.nombre), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, e.mensaje))), /*#__PURE__*/React.createElement(\"div\", {\n    ref: divRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, \"Escriba su mensaje\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"\",\n    id: \"\",\n    cols: \"30\",\n    rows: \"10\",\n    value: mensaje,\n    onChange: e => setMensaje(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, \"Enviar\")));\n};\n\nexport default text;","map":{"version":3,"sources":["C:/Users/alexa/Documents/Tesis-front/StarterKit/src/pages/Sockets/text.js"],"names":["React","useState","useEffect","useRef","socket","text","nombre","mensaje","setMensaje","mensajes","setMensajes","emit","on","off","divRef","current","scrollIntoView","behavior","submit","e","preventDefault","map","i","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,MAApC,QAAiD,OAAjD;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAO,YAAP;;AAEA,MAAMC,IAAI,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAc;AAC1B,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACfE,IAAAA,MAAM,CAACO,IAAP,CAAY,WAAZ,EAAyBL,MAAzB;AACA,GAFQ,EAEN,CAACA,MAAD,CAFM,CAAT;AAIAJ,EAAAA,SAAS,CAAC,MAAM;AACfE,IAAAA,MAAM,CAACQ,EAAP,CAAU,UAAV,EAAuBL,OAAD,IAAa;AAClCG,MAAAA,WAAW,CAAC,CAAC,GAAGD,QAAJ,EAAcF,OAAd,CAAD,CAAX;AACA,KAFD;AAIA,WAAO,MAAM;AACZH,MAAAA,MAAM,CAACS,GAAP;AACA,KAFD;AAGA,GARQ,EAQN,CAACJ,QAAD,CARM,CAAT;AAUA,QAAMK,MAAM,GAAGX,MAAM,CAAC,IAAD,CAArB;AACAD,EAAAA,SAAS,CAAC,MAAM;AACfY,IAAAA,MAAM,CAACC,OAAP,CAAeC,cAAf,CAA8B;AAACC,MAAAA,QAAQ,EAAE;AAAX,KAA9B;AACA,GAFQ,CAAT;;AAIA,QAAMC,MAAM,GAAIC,CAAD,IAAO;AACrBA,IAAAA,CAAC,CAACC,cAAF;AACAhB,IAAAA,MAAM,CAACO,IAAP,CAAY,SAAZ,EAAuBL,MAAvB,EAA+BC,OAA/B;AACAC,IAAAA,UAAU,CAAC,EAAD,CAAV;AACA,GAJD;;AAMA,sBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEC,QAAQ,CAACY,GAAT,CAAa,CAACF,CAAD,EAAIG,CAAJ,kBACb;AAAK,IAAA,GAAG,EAAEA,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMH,CAAC,CAACb,MAAR,CADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMa,CAAC,CAACZ,OAAR,CAFD,CADA,CADF,eAOC;AAAK,IAAA,GAAG,EAAEO,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPD,CADD,eAUC;AAAM,IAAA,QAAQ,EAAEI,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAO,IAAA,OAAO,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADD,eAEC;AACC,IAAA,IAAI,EAAC,EADN;AAEC,IAAA,EAAE,EAAC,EAFJ;AAGC,IAAA,IAAI,EAAC,IAHN;AAIC,IAAA,IAAI,EAAC,IAJN;AAKC,IAAA,KAAK,EAAEX,OALR;AAMC,IAAA,QAAQ,EAAGY,CAAD,IAAOX,UAAU,CAACW,CAAC,CAACI,MAAF,CAASC,KAAV,CAN5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,eASC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATD,CAVD,CADD;AAwBA,CArDD;;AAuDA,eAAenB,IAAf","sourcesContent":["import React, {useState, useEffect, useRef} from \"react\";\r\nimport socket from \"./Socket\";\r\nimport \"../App.css\";\r\n\r\nconst text = ({nombre}) => {\r\n\tconst [mensaje, setMensaje] = useState(\"\");\r\n\tconst [mensajes, setMensajes] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsocket.emit(\"conectado\", nombre);\r\n\t}, [nombre]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsocket.on(\"mensajes\", (mensaje) => {\r\n\t\t\tsetMensajes([...mensajes, mensaje]);\r\n\t\t});\r\n\r\n\t\treturn () => {\r\n\t\t\tsocket.off();\r\n\t\t};\r\n\t}, [mensajes]);\r\n\r\n\tconst divRef = useRef(null);\r\n\tuseEffect(() => {\r\n\t\tdivRef.current.scrollIntoView({behavior: \"smooth\"});\r\n\t});\r\n\r\n\tconst submit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsocket.emit(\"mensaje\", nombre, mensaje);\r\n\t\tsetMensaje(\"\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"chat\">\r\n\t\t\t\t{mensajes.map((e, i) => (\r\n\t\t\t\t\t<div key={i}>\r\n\t\t\t\t\t\t<div>{e.nombre}</div>\r\n\t\t\t\t\t\t<div>{e.mensaje}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t\t<div ref={divRef}></div>\r\n\t\t\t</div>\r\n\t\t\t<form onSubmit={submit}>\r\n\t\t\t\t<label htmlFor=\"\">Escriba su mensaje</label>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tname=\"\"\r\n\t\t\t\t\tid=\"\"\r\n\t\t\t\t\tcols=\"30\"\r\n\t\t\t\t\trows=\"10\"\r\n\t\t\t\t\tvalue={mensaje}\r\n\t\t\t\t\tonChange={(e) => setMensaje(e.target.value)}></textarea>\r\n\t\t\t\t<button>Enviar</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default text;\r\n"]},"metadata":{},"sourceType":"module"}