{"ast":null,"code":"import { REGISTRO_EXITOSO, REGISTRO_ERROR, OBTENER_USUARIO, LOGIN_EXITOSO, LOGIN_ERROR, ACTUALIZAR_USUARIO, CERRAR_SESION } from \"../../types\";\n\nconst authReducer = (state, action) => {\n  switch (action.type) {\n    case REGISTRO_EXITOSO:\n    case LOGIN_EXITOSO:\n      localStorage.setItem(\"token\", action.payload);\n      return { ...state,\n        autenticado: true,\n        mensaje: null,\n        cargando: false\n      };\n\n    case ACTUALIZAR_USUARIO:\n      return { ...state,\n        usuario: state.usuario.map(usuario => usuario._id === action.payload._id ? action.payload : usuario)\n      };\n\n    case OBTENER_USUARIO:\n      return { ...state,\n        autenticado: true,\n        usuario: action.payload,\n        cargando: false\n      };\n\n    case CERRAR_SESION:\n    case LOGIN_ERROR:\n    case REGISTRO_ERROR:\n      localStorage.removeItem(\"token\");\n      return { ...state,\n        token: null,\n        usuario: null,\n        autenticado: null,\n        mensaje: action.payload,\n        cargando: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;","map":{"version":3,"sources":["C:/Users/alexa/Documents/Tesis-front/StarterKit/src/context/autenticacion/authReducer.js"],"names":["REGISTRO_EXITOSO","REGISTRO_ERROR","OBTENER_USUARIO","LOGIN_EXITOSO","LOGIN_ERROR","ACTUALIZAR_USUARIO","CERRAR_SESION","authReducer","state","action","type","localStorage","setItem","payload","autenticado","mensaje","cargando","usuario","map","_id","removeItem","token"],"mappings":"AAAA,SACCA,gBADD,EAECC,cAFD,EAGCC,eAHD,EAICC,aAJD,EAKCC,WALD,EAMCC,kBAND,EAOCC,aAPD,QAQO,aARP;;AAUA,MAAMC,WAAW,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACtC,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKV,gBAAL;AACA,SAAKG,aAAL;AACCQ,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,MAAM,CAACI,OAArC;AACA,aAAO,EACN,GAAGL,KADG;AAENM,QAAAA,WAAW,EAAE,IAFP;AAGNC,QAAAA,OAAO,EAAE,IAHH;AAINC,QAAAA,QAAQ,EAAE;AAJJ,OAAP;;AAMD,SAAKX,kBAAL;AACC,aAAO,EACN,GAAGG,KADG;AAENS,QAAAA,OAAO,EAAET,KAAK,CAACS,OAAN,CAAcC,GAAd,CAAmBD,OAAD,IAC1BA,OAAO,CAACE,GAAR,KAAgBV,MAAM,CAACI,OAAP,CAAeM,GAA/B,GAAqCV,MAAM,CAACI,OAA5C,GAAsDI,OAD9C;AAFH,OAAP;;AAMD,SAAKf,eAAL;AACC,aAAO,EACN,GAAGM,KADG;AAENM,QAAAA,WAAW,EAAE,IAFP;AAGNG,QAAAA,OAAO,EAAER,MAAM,CAACI,OAHV;AAING,QAAAA,QAAQ,EAAE;AAJJ,OAAP;;AAMD,SAAKV,aAAL;AACA,SAAKF,WAAL;AACA,SAAKH,cAAL;AACCU,MAAAA,YAAY,CAACS,UAAb,CAAwB,OAAxB;AACA,aAAO,EACN,GAAGZ,KADG;AAENa,QAAAA,KAAK,EAAE,IAFD;AAGNJ,QAAAA,OAAO,EAAE,IAHH;AAINH,QAAAA,WAAW,EAAE,IAJP;AAKNC,QAAAA,OAAO,EAAEN,MAAM,CAACI,OALV;AAMNG,QAAAA,QAAQ,EAAE;AANJ,OAAP;;AASD;AACC,aAAOR,KAAP;AAtCF;AAwCA,CAzCD;;AA2CA,eAAeD,WAAf","sourcesContent":["import {\r\n\tREGISTRO_EXITOSO,\r\n\tREGISTRO_ERROR,\r\n\tOBTENER_USUARIO,\r\n\tLOGIN_EXITOSO,\r\n\tLOGIN_ERROR,\r\n\tACTUALIZAR_USUARIO,\r\n\tCERRAR_SESION,\r\n} from \"../../types\";\r\n\r\nconst authReducer = (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase REGISTRO_EXITOSO:\r\n\t\tcase LOGIN_EXITOSO:\r\n\t\t\tlocalStorage.setItem(\"token\", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tautenticado: true,\r\n\t\t\t\tmensaje: null,\r\n\t\t\t\tcargando: false,\r\n\t\t\t};\r\n\t\tcase ACTUALIZAR_USUARIO:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusuario: state.usuario.map((usuario) =>\r\n\t\t\t\t\tusuario._id === action.payload._id ? action.payload : usuario\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\tcase OBTENER_USUARIO:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tautenticado: true,\r\n\t\t\t\tusuario: action.payload,\r\n\t\t\t\tcargando: false,\r\n\t\t\t};\r\n\t\tcase CERRAR_SESION:\r\n\t\tcase LOGIN_ERROR:\r\n\t\tcase REGISTRO_ERROR:\r\n\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttoken: null,\r\n\t\t\t\tusuario: null,\r\n\t\t\t\tautenticado: null,\r\n\t\t\t\tmensaje: action.payload,\r\n\t\t\t\tcargando: false,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default authReducer;\r\n"]},"metadata":{},"sourceType":"module"}